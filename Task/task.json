[
    {"action": "goto", "url": "https://www.amazon.com"},
    {"action": "log", "message": "After goto: URL is {{page.url}}"},
    {"action": "wait_for_timeout", "timeout": 2000},
    {"action": "wait_for_selector", "selector": "input#twotabsearchtextbox", "timeout": 1500},
    {"action": "focus", "selector": "input#twotabsearchtextbox"},
    {"action": "type", "selector": "input#twotabsearchtextbox", "text": "HP laptop"},
    {"action": "press", "selector": "input#twotabsearchtextbox", "key": "Enter"},
    {"action": "blur", "selector": "input#twotabsearchtextbox"},
    {"action": "wait_for_selector", "selector": ".s-main-slot", "timeout": 1500},
    {"action": "wait_for_selector", "selector": "#s-refinements", "timeout": 1500},
    {"action": "evaluate", "selector": "#s-refinements", "script": "el => el.scrollTop = 0"},
    {"action": "wait_for_timeout", "timeout": 1000},
    {"action": "scroll_into_view", "selector": "span.a-size-base:text('HP')"},
    {"action": "hover", "selector": "span.a-size-base:text('HP')"},
    {"action": "click", "selector": "span.a-size-base:text('HP')"},
    {"action": "wait_for_timeout", "timeout": 2000},
    {"action": "log", "message": "Applied filter: HP"},
    {"action": "wait_for_timeout", "timeout": 1000},
    {"action": "evaluate", "selector": "#s-refinements", "script": "el => el.scrollTop = 0"},
    {"action": "scroll_into_view", "selector": "span.a-size-base:text('64 GB')"},
    {"action": "hover", "selector": "span.a-size-base:text('64 GB')"},
    {"action": "click", "selector": "span.a-size-base:text('64 GB')"},
    {"action": "wait_for_timeout", "timeout": 2000},
    {"action": "log", "message": "Applied filter: 64 GB RAM"},
    {"action": "wait_for_timeout", "timeout": 1000},
    {"action": "evaluate", "selector": "#s-refinements", "script": "el => el.scrollTop = 0"},
    {"action": "scroll_into_view", "selector": "span.a-size-base:text('17 Inches & Above'), span.a-size-base:text('16 to 16.9 Inches')"},
    {"action": "hover", "selector": "span.a-size-base:text('17 Inches & Above'), span.a-size-base:text('16 to 16.9 Inches')"},
    {"action": "click", "selector": "span.a-size-base:text('17 Inches & Above'), span.a-size-base:text('16 to 16.9 Inches')"},
    {"action": "wait_for_timeout", "timeout": 2000},
    {"action": "log", "message": "Applied filter: >16 Inch Display"},
    {"action": "wait_for_timeout", "timeout": 1000},
    {"action": "evaluate", "selector": "#s-refinements", "script": "el => el.scrollTop = 0"},
    {"action": "scroll_into_view", "selector": "span.a-size-base:text('4 TB & Above'), span.a-size-base:text('3 TB'), span.a-size-base:text('2 TB'), span.a-size-base:text('1.5 TB')"},
    {"action": "hover", "selector": "span.a-size-base:text('4 TB & Above'), span.a-size-base:text('3 TB'), span.a-size-base:text('2 TB'), span.a-size-base:text('1.5 TB')"},
    {"action": "click", "selector": "span.a-size-base:text('4 TB & Above'), span.a-size-base:text('3 TB'), span.a-size-base:text('2 TB'), span.a-size-base:text('1.5 TB')"},
    {"action": "wait_for_timeout", "timeout": 2000},
    {"action": "log", "message": "Applied filter: Hard Drive >1TB"},
    {"action": "wait_for_timeout", "timeout": 1000},
    {"action": "evaluate", "selector": "#s-refinements", "script": "el => el.scrollTop = 0"},
    {"action": "scroll_into_view", "selector": "span.a-size-base:text-matches('Linux|Ubuntu', 'i')"},
    {"action": "hover", "selector": "span.a-size-base:text-matches('Linux|Ubuntu', 'i')"},
    {"action": "click", "selector": "span.a-size-base:text-matches('Linux|Ubuntu', 'i')"},
    {"action": "wait_for_timeout", "timeout": 2000},
    {"action": "log", "message": "Applied filter: Linux/Ubuntu"},
    {"action": "wait_for_timeout", "timeout": 1000},
    {"action": "evaluate", "selector": "#s-refinements", "script": "el => el.scrollTop = 0"},
    {"action": "scroll_into_view", "selector": "span.a-size-base:text('New')"},
    {"action": "hover", "selector": "span.a-size-base:text('New')"},
    {"action": "click", "selector": "span.a-size-base:text('New')"},
    {"action": "wait_for_timeout", "timeout": 2000},
    {"action": "log", "message": "Applied filter: New"},
    {"action": "wait_for_timeout", "timeout": 1000},
    {"action": "evaluate", "selector": "#s-refinements", "script": "el => el.scrollTop = 0"},
    {"action": "scroll_into_view", "selector": "span.a-size-base:text('4.0 GHz & Above')"},
    {"action": "hover", "selector": "span.a-size-base:text('4.0 GHz & Above')"},
    {"action": "click", "selector": "span.a-size-base:text('4.0 GHz & Above')"},
    {"action": "wait_for_timeout", "timeout": 2000},
    {"action": "log", "message": "Applied filter: 4.0 GHz & Above"},
    {"action": "wait_for_timeout", "timeout": 1000},
    {"action": "screenshot", "path": "filters_applied.png"},
    {"action": "log", "message": "Captured filters screenshot"},
    {"action": "wait_for_timeout", "timeout": 1000},
    {"action": "wait_for_selector", "selector": "div[data-component-type='s-search-result']", "timeout": 1500},
    {"action": "evaluate", "script": "document.querySelectorAll('div[data-component-type=\"s-search-result\"]').length > 0 ? 'Results found' : 'No results, filters applied'"},
    {"action": "log", "message": "Search results status: {{evaluate_result}}"},
    {"action": "log", "message": "Final search results URL: {{page.url}}"}
]